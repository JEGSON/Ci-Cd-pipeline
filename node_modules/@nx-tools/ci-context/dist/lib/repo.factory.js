"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.RepoProxyFactory = void 0;
const tslib_1 = require("tslib");
const azure = tslib_1.__importStar(require("./utils/azure-devops"));
const bitbucket = tslib_1.__importStar(require("./utils/bitbucket"));
const circle = tslib_1.__importStar(require("./utils/circle"));
const drone = tslib_1.__importStar(require("./utils/drone"));
const git = tslib_1.__importStar(require("./utils/git"));
const github = tslib_1.__importStar(require("./utils/github"));
const gitlab = tslib_1.__importStar(require("./utils/gitlab"));
const jenkins = tslib_1.__importStar(require("./utils/jenkins"));
const semaphore = tslib_1.__importStar(require("./utils/semaphore"));
const teamcity = tslib_1.__importStar(require("./utils/teamcity"));
const travis = tslib_1.__importStar(require("./utils/travis"));
const ci = require('ci-info');
class RepoProxyFactory {
    static async create(token) {
        switch (true) {
            case ci.AZURE_PIPELINES:
                return azure.repo();
            case ci.BITBUCKET:
                return bitbucket.repo();
            case ci.CIRCLE:
                return circle.repo();
            case ci.DRONE:
                return drone.repo();
            case ci.GITHUB_ACTIONS:
                return github.repo(token);
            case ci.GITLAB:
                return gitlab.repo();
            case ci.JENKINS:
                return jenkins.repo();
            case ci.SEMAPHORE:
                return semaphore.repo();
            case ci.TRAVIS:
                return travis.repo();
            case ci.TEAMCITY:
                return teamcity.repo();
            default:
                return git.repo();
        }
    }
}
exports.RepoProxyFactory = RepoProxyFactory;
