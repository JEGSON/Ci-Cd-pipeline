"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.loadPackage = loadPackage;
const devkit_1 = require("@nx/devkit");
const MISSING_REQUIRED_DEPENDENCY = (name, reason) => `The "${name}" package is missing. Please, make sure to install this library ($ npm install ${name}) to take advantage of ${reason}.`;
async function loadPackage(packageName, context, loaderFn) {
    try {
        return loaderFn ? loaderFn() : await import(packageName);
    }
    catch {
        devkit_1.logger.error(`PackageLoader - ${MISSING_REQUIRED_DEPENDENCY(packageName, context)}`);
        process.exit(1);
    }
}
